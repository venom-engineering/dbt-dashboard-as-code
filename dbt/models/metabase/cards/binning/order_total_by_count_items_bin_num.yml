version: 2

exposures:
  - name: order_total_by_count_items_bin_num
    description: Example for Binning with bin number
    type: analysis
    owner:
      name: <string>
      email: <string>

    depends_on:
      - ref('metabase_orders')

    meta:
      metabase:
        name: order_total_by_count_items_bin_num
        display: bar
        description: this is a description
        visualization_settings: {}

        _query:
          aggregation:
            - field: order_total
              type: avg
          breakout:
            - field: count_order_items
              binning:
                strategy: num-bins
                num-bins: 6

          order_by:
            - index: 0
              from: breakout
              mode: desc
